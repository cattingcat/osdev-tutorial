.set ECX_SSE3,		0b1
.set ECX_PCLMUL,	0b10
.set ECX_DTES64,	0b100
.set ECX_MONITOR,	0b1000
.set ECX_DS_CPL,	0b10000
.set ECX_VMX,		0b100000
.set ECX_SMX,		0b1000000
.set ECX_EST,		0b10000000
.set ECX_TM2,		0b100000000
.set ECX_SSSE3,		0b1000000000
.set ECX_CID,		0b10000000000
.set ECX_FMA,		0b1000000000000
.set ECX_CX16,		0b10000000000000
.set ECX_ETPRD,		0b100000000000000
.set ECX_PDCM,		0b1000000000000000
.set ECX_DCA,		0b10000000000000000
.set ECX_SSE4_1,	0b1000000000000000000
.set ECX_SSE4_2,	0b10000000000000000000
.set ECX_x2APIC,	0b100000000000000000000
.set ECX_MOVBE,		0b1000000000000000000000
.set ECX_POPCNT,	0b10000000000000000000000
.set ECX_AES,		0b10000000000000000000000000
.set ECX_XSAVE,		0b100000000000000000000000000
.set ECX_OSXSAVE,	0b1000000000000000000000000000
.set ECX_AVX,		0b10000000000000000000000000000

.set EDX_FPU,		0b1
.set EDX_VME,		0b10
.set EDX_DE,		0b100
.set EDX_PSE,		0b1000
.set EDX_TSC,		0b10000
.set EDX_MSR,		0b100000
.set EDX_PAE,		0b1000000
.set EDX_MCE,		0b10000000
.set EDX_CX8,		0b100000000
.set EDX_APIC,		0b1000000000
.set EDX_SEP,		0b100000000000
.set EDX_MTRR,		0b1000000000000
.set EDX_PGE,		0b10000000000000
.set EDX_MCA,		0b100000000000000
.set EDX_CMOV,		0b1000000000000000
.set EDX_PAT,		0b10000000000000000
.set EDX_PSE36,		0b100000000000000000
.set EDX_PSN,		0b1000000000000000000
.set EDX_CLF,		0b10000000000000000000
.set EDX_DTES,		0b1000000000000000000000
.set EDX_ACPI,		0b10000000000000000000000
.set EDX_MMX,		0b100000000000000000000000
.set EDX_FXSR,		0b1000000000000000000000000
.set EDX_SSE,		0b10000000000000000000000000
.set EDX_SSE2,		0b100000000000000000000000000
.set EDX_SS,		0b1000000000000000000000000000
.set EDX_HTT,		0b10000000000000000000000000000
.set EDX_TM1,		0b100000000000000000000000000000
.set EDX_IA64,		0b1000000000000000000000000000000
.set EDX_PBE,		0b10000000000000000000000000000000


.section .text

get_cpuid:
	movl $1, %eax
	cpuid
	pushl %ecx
	call k_print
	pushl %edx
	call k_print
	addl $8, %esp
	ret
